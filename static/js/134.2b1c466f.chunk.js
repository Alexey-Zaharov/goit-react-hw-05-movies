"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[134],{134:function(e,t,a){a.r(t);var r=a(439),n=a(791),u=a(87),c=a(689),o=a(184);t.default=function(){var e,t=(0,n.useState)([]),a=(0,r.Z)(t,2),l=a[0],s=a[1],i=(0,n.useState)(""),h=(0,r.Z)(i,2),f=h[0],d=h[1],m=(0,u.lr)(),p=(0,r.Z)(m,2),v=p[0],b=p[1],k=(0,c.TH)(),w=null!==(e=v.get("saerchValue"))&&void 0!==e?e:"";(0,n.useEffect)((function(){""!==w?fetch("https://api.themoviedb.org/3/search/movie?api_key=631b0300fdf69969f8e6b4e2073a8abc&language=en-US&query=".concat(w,"&page=1&include_adult=false")).then((function(e){if(e.ok)return e.json()})).then(s).catch((function(e){return window.alert(e)})).finally(d(w)):d("")}),[w]);return(0,o.jsxs)("div",{children:[(0,o.jsxs)("form",{onSubmit:function(e){return function(e){switch(e.preventDefault(),e.currentTarget.elements.search.value.trim()){case"":b({}),window.alert("WHOOPS!!! No data to search");break;case w:window.alert('WHOOPS!!! You are alredy looking on "'.concat(w,'"'));break;default:b({saerchValue:e.currentTarget.elements.search.value})}}(e)},children:[(0,o.jsx)("input",{onChange:function(e){return d(e.target.value)},name:"search",type:"text",value:f,autoComplete:"off",autoFocus:!0,placeholder:"Search movie"}),(0,o.jsx)("button",{type:"submit",children:"Search"})]}),""!==w&&(0,o.jsx)("ul",{children:l.results&&l.results.map((function(e){var t=e.id,a=e.title;return(0,o.jsx)("li",{children:(0,o.jsx)(u.rU,{to:"/movies/".concat(t),state:{from:k},children:a})},t)}))})]})}}}]);
//# sourceMappingURL=134.2b1c466f.chunk.js.map